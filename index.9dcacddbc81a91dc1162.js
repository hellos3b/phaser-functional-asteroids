!function(t){function n(n){for(var r,a,u=n[0],c=n[1],s=n[2],l=0,p=[];l<u.length;l++)a=u[l],o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(f&&f(n);p.length;)p.shift()();return i.push.apply(i,s||[]),e()}function e(){for(var t,n=0;n<i.length;n++){for(var e=i[n],r=!0,u=1;u<e.length;u++){var c=e[u];0!==o[c]&&(r=!1)}r&&(i.splice(n--,1),t=a(a.s=e[0]))}return t}var r={},o={0:0},i=[];function a(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=r,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)a.d(e,r,function(n){return t[n]}.bind(null,r));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=n,u=u.slice();for(var s=0;s<u.length;s++)n(u[s]);var f=c;i.push([356,1,2]),e()}({353:function(t,n,e){},356:function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"spritesheet",function(){return c}),e.d(r,"spaceship",function(){return s}),e.d(r,"explosion",function(){return f}),e.d(r,"background",function(){return l}),e.d(r,"instructions",function(){return p}),e.d(r,"accelparticle",function(){return y});var o={};e.r(o),e.d(o,"boost",function(){return d}),e.d(o,"dead",function(){return m}),e.d(o,"flip",function(){return h}),e.d(o,"gameOST",function(){return g});var i={};e.r(i),e.d(i,"Splash",function(){return v}),e.d(i,"Game",function(){return gr});e(157),e(322);var a=e(34),u=e.n(a),c=(e(353),{path:"assets/sprites/spritesheet.png",width:32,height:32,frames:16}),s={path:"assets/sprites/spaceship.png",width:32,height:32,frames:24},f={path:"assets/sprites/explosion.png",width:128,height:128,frames:5},l={path:"assets/sprites/background.png",width:760,height:480,frames:1},p={path:"assets/sprites/instructions.png",width:760,height:480,frames:1},y={path:"assets/sprites/particleaccelerate.png",width:6,height:6,frames:5},d={path:["assets/audio/boost.wav"]},m={path:["assets/audio/dead.wav"]},h={path:["assets/audio/flip-up.wav"]},g={path:["assets/music/space-ost-game.mp3"]},v={preload:function(){var t;t=this,Object.keys(r).forEach(function(n){return function(t,n,e){return t.load.spritesheet(n,e.path,e.width,e.height,e.frames)}(t,n,r[n])}),Object.keys(o).forEach(function(n){return function(t,n,e){return t.game.load.audio(n,e.path)}(t,n,o[n])})},create:function(){this.state.start("Game")}};function b(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function w(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var j=function(t){return{apply:function(n){return t&&n(t)},get:function(){return t},getOrElse:function(n){return void 0===t?n:t},getOrThrow:function(n){if(void 0===t)throw new Error(n);return t}}},S=function(t){var n=t.length;return function e(r){return function(){var o=x(r).concat(Array.prototype.slice.call(arguments));return o.length>=n?t.apply(this,o):e(o)}}([])},$=(S(function(t,n){return console.log(t,n),n}),function(t){return"object"===O(t)&&!(t instanceof Array)&&null!==t}),P=S(function(t,n){for(var e in t)if(t[e]!==n[e])return!1;return!0}),E=function t(n){var e=new Set([]),r=Object.entries(n).reduce(function(t,n){var e=w(n,2);return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){b(t,n,e[n])})}return t}({},t,b({},e[0],e[1]))},{}),o={},i={get:function(t,n){var i=this;return"$dirty"===n?x(e):"$clean"===n?function(){e=new Set([]),o={}}:"$old"===n?function(t,n){return new Proxy(t,{get:function(t,e){return void 0!==n[e]?n[e]:t[e]},set:function(){throw new Error("Cannot modify original state")}})}(r,o):"$commit"===n?function(n){return Object.entries(n).map(function(n){var e=w(n,2),r=e[0],o=e[1];return i.set(t,r,o)}),t}:t[n]},set:function(n,r,i){return n[r]===i||(!(!$(i)||!P(n[r],i))||(e.add(r),void 0===o[r]&&(o[r]=n[r]),n[r]=$(i)?t(i):i,!0))}};return new Proxy(r,i)};S(function(t,n){n});function A(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}window.c_=S;var k=S(function(t,n){return j(t[n])}),R=S(function(t){return t.time.physicsElapsed}),_=S(function(t,n){return Object.assign(t,n)}),M=function(t){return t<10?"0"+t:t},C=function(t){var n=Math.floor(t/60);return t=Math.floor(t%60),"".concat(M(n),":").concat(M(t))},D=(S(function(t,n){return Object.assign(n,t)}),S(function(t,n,e){return j(e[t]).getOrElse([]).length?n(e):e}),S(function(t,n){for(var e=Object.keys(n),r=0;r<e.length;r++){var o=e[r];n[o]instanceof Object&&o in t&&Object.assign(n[o],_(t[o],n[o]))}return Object.assign(t||{},n),t}),S(function(t,n){return t.concat(n)}),S(function(t,n){return Math.floor(Math.random()*(n-t))+t})),I=S(function(t,n){return n.map(t)}),L=(S(function(t,n){return t>=n}),S(function(t,n){return t+D(-1*n,n)})),H=S(function(t){return t*(Math.PI/180)}),B=S(function(t){return Number(t).toLocaleString()}),F=(S(function(t,n){return console.log(t,n),n}),S(function(t,n,e){return e[t]?e:n(e)}),S(function(t,n,e){return e[t]?n(e):e})),N=S(function(t,n,e){return!0===e[t]?n(e):e}),q=S(function(t,n){return n.filter(t)}),G=S(function(t,n,e){var r=e-t;return r<t?0:r>n?1:r/(n-t)}),U=S(function(t,n,e){return t+(e=(e=e>1?1:e)<0?0:e)*(n-t)}),V=S(function(t,n,e){return t-(e=(e=e>1?n:e)<0?t:e)*(t-n)}),J=S(function(t,n){return n.reduce(function(n,e){return n[e]=t,n},{})}),X=(S(function(t){return function(n,e){n||(n={}),n[e]=t}}),S(function(t,n,e){return t[n]=e,e}),S(function(t,n){return n.forEach(t)})),z=S(function(t,n){return Object.entries(n).map(function(n){var e=T(n,2),r=e[0],o=e[1];return t(r,o)})}),Q=S(function(t,n){return A(t).concat([n])});S(function(t,n){return j(n).getOrElse(t)});var Y={setPosition:S(function(t,n){var e=n.position;t.x=e.x,t.y=e.y}),setFrame:S(function(t,n){t.frame=n.frame}),setAnchor:S(function(t,n){var e=n.anchor;t.anchor.setTo(e.x,e.y)}),setAnimation:S(function(t,n){var e=n.frame,r=n.animation;r?t.animations.play(r):(t.animations.stop(),t.frame=e)}),setAlive:S(function(t,n){n.alive||t.destroy()}),setAngle:S(function(t,n){var e=n.angle;t.angle=e}),setBodyRadius:S(function(t,n){var e=n.physicsEnabled,r=n.bodyRadius;e&&t.body.setCircle(r,-r+.5*t.width/t.scale.x,-r+.5*t.height/t.scale.y)})},Z=(S(function(t,n){return z(function(n,e){return Z(t,n,e)},n)}),S(function(t,n,e){var r=t.animations.add(n,e.frames,e.fps,e.loop);e.onDone&&r.onComplete.add(function(){return W(t,e.onDone)})})),W=S(function(t,n){return t.eventQueue=Q(t.eventQueue,n)}),K=S(function(t,n,e){return e.getOrElse(function(){}).call(null,t,n)}),tt=(S(function(t,n,e){var r,o,i;return o="set"+(i=e).charAt(0).toUpperCase()+i.substring(1),r=k(Y)(o),K(t,n)(r)}),{}),nt=S(function(t,n){return j(tt[t]).getOrThrow("No Entity found with name: '".concat(t))(n)}),et=S(function(t,n){return tt[t]=n}),rt=function(t){return{x:t.centerX,y:t.centerY}},ot=S(function(t,n){return n.$spawn(t),t.$state.$commit({gameObjects:Q(t.$state.gameObjects,n)}),n}),it=S(function(t,n){return t.$state.$commit({timers:Q(t.$state.timers,n)}),n});function at(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var ut=function(t){return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){at(t,n,e[n])})}return t}({count:function(){},current:0,loop:!1,done:function(){}},t)},ct=c_(function(t,n){var e,r;return r=n,e=q(ft)(r),I(st(R(t.game,1)))(e)}),st=c_(function(t,n){var e,r;return r=n,e=lt(t)(r),pt(e)}),ft=function(t){return t.loop||t.current<t.count()},lt=c_(function(t,n){return _(n,{current:n.current+t})}),pt=function(t){return t.current>=t.count()?(t.done(),t.loop?_(t,{current:0}):t):t};var yt=function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r="",o=0;o<e.length;o++)this[r=e[o]]=n.add.group(),this[r].name=r};function dt(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function mt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function ht(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var vt=c_(function(t,n){for(var e in t)if(t[e]!==n[e])return!1;return!0}),bt=function(t){var n=new Set([]),e=Object.entries(t).reduce(function(t,n){var e=ht(n,2);return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){mt(t,n,e[n])})}return t}({},t,mt({},e[0],e[1]))},{}),r={},o={get:function(t,o){var i=this;return"$dirty"===o?dt(n):"$clean"===o?function(){n=new Set([]),r={}}:"$old"===o?function(t,n){return new Proxy(t,{get:function(t,e){return void 0!==n[e]?n[e]:t[e]},set:function(){throw new Error("Cannot modify original state")}})}(e,r):"$commit"===o?function(n){return Object.entries(n).map(function(n){var e=ht(n,2),r=e[0],o=e[1];return i.set(t,r,o)}),t}:t[o]},set:function(t,e,o){return t[e]===o||!("object"!==gt(i=o)||i instanceof Array||null===i||!vt(t[e],o))||(n.add(e),void 0===r[e]&&(r[e]=t[e]),t[e]=o,!0);var i}};return new Proxy(e,o)};function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ot(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jt(t,n){return(jt=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function St(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var $t=1,Pt={setPosition:S(function(t,n){var e=n.position;t.x=e.x,t.y=e.y}),setFrame:S(function(t,n){t.frame=n.frame}),setAnchor:S(function(t,n){var e=n.anchor;t.anchor.setTo(e.x,e.y)}),setAnimation:S(function(t,n){var e=n.frame,r=n.animation;r?t.animations.play(r):(t.animations.stop(),t.frame=e)}),setAlive:S(function(t,n){n.alive||t.destroy()}),setAngle:S(function(t,n){var e=n.angle;t.angle=e}),setBodyRadius:S(function(t,n){var e=n.physicsEnabled,r=n.bodyRadius;e&&t.body.setCircle(r,-r+.5*t.width/t.scale.x,-r+.5*t.height/t.scale.y)})},Et=S(function(t,n){return z(function(n,e){return At(t,n,e)},n)}),At=S(function(t,n,e){var r=t.animations.add(n,e.frames,e.fps,e.loop);e.onDone&&r.onComplete.add(function(){return Tt(t,e.onDone)})}),Tt=S(function(t,n){return t.emit(n)}),kt=S(function(t,n,e){return e.getOrElse(function(){}).call(null,t,n)}),Rt=S(function(t,n,e){var r,o,i;return o="set"+(i=e).charAt(0).toUpperCase()+i.substring(1),r=k(Pt)(o),kt(t,n)(r)}),_t=function(t){function n(t,e,r){var o,i,a;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),i=this,(o=!(a=xt(n).call(this,e,r.position.x,r.position.y,r.asset))||"object"!==wt(a)&&"function"!=typeof a?St(i):a).entity=t,o.id=$t++,o.game=e;var u=o.state=new E(r);return u.physicsEnabled&&(o.game.physics.arcade.enable(St(St(o))),o.enableBody=!0),Et(St(St(o)),u.animations),o.commit(u,Object.keys(u)),o}var e,r,o;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&jt(t,n)}(n,u.a.Sprite),e=n,(r=[{key:"emit",value:function(t){this.entity.emit(t)}},{key:"commit",value:function(t,n){var e=this;return this.state.$commit(t),(n=n||this.state.$dirty).forEach(function(t){return Rt(e,e.state,t)}),this.state.$clean(),t}}])&&Ot(e.prototype,r),o&&Ot(e,o),n}();function Mt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Ct(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Dt=function(){return{alive:!0,events:{},update:function(t){return t},create:function(){},asset:"",frame:0,position:{x:0,y:0},anchor:{x:.5,y:.5},animations:{},animation:null,angle:0,physicsEnabled:!1,bodyRadius:8,collisionGroup:-1,collisions:{},gravity:!1,velocity:{x:0,y:0},angVelocity:0}},It=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.state=new bt(function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){Mt(t,n,e[n])})}return t}({},Dt(),n)),this.sprite=null,Lt(this,this.state)}var n,e,r;return n=t,(e=[{key:"emit",value:function(t){return void 0!==this.state.events[t]?this.state.events[t].call(null,this):(console.warn("No event listeners for event '".concat(t,"' in Object<Entity>")),this)}},{key:"$spawn",value:function(t){var n,e;return this.stage=t,this.sprite=new _t(this,t.game,this.state),n=t.game,e=this.sprite,n.add.existing(e),function(t,n){var e=n.state.group||n.state.collisionGroup||"default";t.$groups[e].add(n)}(t,this.sprite),this.create(this),this}},{key:"$commit",value:function(t){return this.state.$commit(t),this}}])&&Ct(n.prototype,e),r&&Ct(n,r),t}(),Lt=function(t,n){return X(function(n){return Ht(t,n)},Object.keys(n))},Ht=function(t,n){return Object.defineProperty(t,n,{get:function(){if(void 0===t.state[n])throw new Error("No prop named '".concat(n,"' on object<Entity>"));return t.state[n]},set:function(t){throw new Error("Object<Entity> is set to read-only > set '".concat(n,"' to '").concat(t,"'"))}})},Bt=function(t){return!!t.sprite},Ft=function(t){return t.alive},Nt=function(t){return t.$commit({alive:!1})};function qt(t,n){this.x=void 0===t?0:t,this.y=void 0===n?0:n}qt.prototype={set:function(t,n){this.x=t||0,this.y=n||0},clone:function(){return new qt(this.x,this.y)},add:function(t){return new qt(this.x+t.x,this.y+t.y)},subtract:function(t){return new qt(this.x-t.x,this.y-t.y)},multiply:function(t){return new qt(this.x*t,this.y*t)},divide:function(t){return new qt(this.x/t,this.y/t)},scale:function(t){return new qt(this.x*t,this.y*t)},dot:function(t){return this.x*t.x+this.y*t.y},moveTowards:function(t,n){n=Math.min(n,1);var e=t.subtract(this);return this.add(e.scale(n))},magnitude:function(){return Math.sqrt(this.magnitudeSqr())},magnitudeSqr:function(){return this.x*this.x+this.y*this.y},distance:function(t){return Math.sqrt(this.distanceSqr(t))},distanceSqr:function(t){var n=this.x-t.x,e=this.y-t.y;return n*n+e*e},normalize:function(){var t=this.magnitude();return new qt(this.x/t,this.y/t)},angle:function(){return Math.atan2(this.y,this.x)},angleBetween:function(t){return this.angle()-t.angle()},rotate:function(t){var n=Math.cos(t),e=Math.sin(t),r=new qt;return r.x=this.x*n-this.y*e,r.y=this.x*e+this.y*n,r},toPrecision:function(t){var n=this.clone();return n.x=n.x.toFixed(t),n.y=n.y.toFixed(t),n},perpRight:function(){return new qt(-this.y,this.x)},toString:function(){var t=this.toPrecision(1);return"["+t.x+"; "+t.y+"]"}};var Gt=c_(function(t,n){return new qt(n.x,n.y).subtract(new qt(t.x,t.y))}),Ut=function(t){return new qt(0,1).rotate(H(t))},Vt=c_(function(t,n){return n.multiply(t)}),Jt=c_(function(t,n){return Gt(t,n).normalize()}),Xt=c_(function(t,n){return new qt(t.x,t.y).add(n)}),zt=function(t){return new qt(t.x,t.y).magnitude()},Qt=c_(function(t,n){return(n=new qt(n.x,n.y)).magnitude()>t?n.normalize().multiply(t):n}),Yt=c_(function(t,n,e){return{x:L(e.x,t),y:L(e.y,n)}});function Zt(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Wt={x:0,y:-150},Kt={Player:"player",Asteroid:"asteroid",Pickup:"pickup"},tn=S(function(t,n){var e,r,o;return o=n,r=N("gravity",en(Wt,t))(o),e=nn(t)(r),un(t)(e)}),nn=S(function(t,n){return n.$commit({position:{x:n.position.x+n.velocity.x*t,y:n.position.y+n.velocity.y*t}})}),en=S(function(t,n,e){return e.$commit({velocity:{x:e.velocity.x-t.x*n,y:e.velocity.y-t.y*n}})}),rn=function(t){var n,e;return e=Object.entries(t.collisions),n=I(on(t))(e),_(t)(n)},on=S(function(t,n){var e,r=Zt(n,2),o=r[0],i=r[1];return e=I(function(n){return t.stage.game.physics.arcade.overlap(t.sprite,n)?i(t,n):t},t.stage.$groups[o].children),e.reduce(function(t,n){return _(t,n)},{})}),an=S(function(t,n){return n.$commit({velocity:Qt(t,n.velocity)})}),un=S(function(t,n){return n.$commit({angle:n.angle+n.angVelocity*t})}),cn=(S(function(t,n){return e=t.position,r=n.position,new qt(e.x,e.y).distance(new qt(r.x,r.y))<=t.collisionRadius||distance<=n.collisionRadius;var e,r}),function(t){return t.position.x>0&&t.position.x<t.stage.game.width}),sn=function(t){return t.position.y>0},fn=function(t,n){return t.position.x<-1*n||t.position.x>t.stage.game.width+n||t.position.y<-1*n||t.position.y>t.stage.game.height+n};et("AsteroidMarker",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({follow:null,group:"default",create:ln,update:pn,asset:"spritesheet",frame:7},t);return new It(n)});var ln=function(t){return dn(t)},pn=function(t){return yn(t.follow)?dn(t):Nt(t)},yn=function(t){return!t.alive||t.position.x<0||t.position.x>t.stage.game.width||t.position.y<0||t.position.y>t.stage.game.height},dn=function(t){var n=t.follow.position,e=t.stage.game,r=e.width,o=e.height;return n.x<0?t.$commit({position:{x:6,y:n.y},angle:-90}):n.x>r?t.$commit({position:{x:r-6,y:n.y},angle:90}):n.y<0?t.$commit({position:{x:n.x,y:6},angle:0}):n.y>o?t.$commit({position:{x:n.x,y:o-6},angle:180}):t},mn={},hn=function(t,n){mn[t]=n},gn=function(t){mn[t].play()},vn=function(t){mn[t].loopFull()},bn=function(t){mn[t].stop()},wn=function(t){return gn(t)},On=S(function(t,n){var e=t.game.add.audio(n);hn(n,e)});et("Background",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({asset:"background",group:"default",frame:0,anchor:{x:0,y:0}},t);return new It(n)});et("Instructions",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({asset:"instructions",group:"default",frame:0,anchor:{x:0,y:0}},t);return new It(n)});var xn={font:"bold 24px Orbitron",fill:"#999"},jn={font:"bold 16px Orbitron",fill:"#666"},Sn={font:"bold 32px Helvetica, Arial",fill:"#999",boundsAlignH:"center"},$n={font:"48px Orbitron",fill:"#fff",boundsAlignH:"center"},Pn={font:"16px Orbitron",fill:"#757575",boundsAlignH:"center"},En={font:"16px Orbitron",fill:"#757575",boundsAlignH:"center"},An={font:"24px Orbitron",fill:"#0f0",boundsAlignH:"center"},Tn={font:"12px Orbitron",fill:"#0f0"};et("AccelerateParticle",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({elapsedTime:0,update:kn,scoreRef:{initiated:!1},bonusAmount:0,asset:"accelparticle",group:"default",frame:D(0,2)},t);return new It(n)});var kn=function(t){return t.$commit({elapsedTime:t.elapsedTime+R(t.stage.game)}),t.elapsedTime>=.02?Nt(t):t};et("Asteroid",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({create:Rn,update:_n,asset:"spritesheet",frame:0,physicsEnabled:!0,bodyRadius:8,collisionGroup:Kt.Asteroid},t);return new It(n)});var Rn=function(t){var n;n=nt("AsteroidMarker",{follow:t}),ot(t.stage)(n)},_n=function(t){return fn(t,100)?Nt(t):t},Mn=function(t){var n;return n=rt(t.game.world),Yt(400,180)(n)},Cn=function(t){var n;return{0:{x:-64,y:(n=function(t){return{x:D(0,t.game.width),y:D(0,t.game.height)}}(t)).y},1:{x:t.game.width+64,y:n.y},2:{x:n.x,y:-64},3:{x:n.x,y:t.game.height+64}}},Dn=function(t){var n;return n=D(0,4),k(Cn(t))(n).getOrElse({x:0,y:0})};et("Pickup",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({update:In,asset:"spritesheet",frame:0,animations:{play:{frames:[8,9,10,11,12,13],loop:!0,fps:10}},animation:"play",physicsEnabled:!0,bodyRadius:8,collisionGroup:Kt.Pickup},t);return new It(n)});var In=function(t){return fn(t)?Nt(t):t};S(function(t,n){return{x:L(n.x,t),y:L(n.y,t)}}),c_(function(t,n,e,r){return k(n,r).getOrElse(function(){console.warn("No event '".concat(r,"' found for entity:"),e)}).call(null,t,e)});function Ln(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Hn={Accelerate:87,RotateRight:68,RotateLeft:65,Boost:32,Restart:70},Bn=!0,Fn=J(!1,Object.values(Hn)),Nn=new E(Fn),qn=S(function(t,n,e){return Nn[t]?n(e):e}),Gn=S(function(t,n,e){return!Nn[t]&&Nn.$old[t]?n(e):e}),Un=S(function(t,n,e){return Nn[t]&&!Nn.$old[t]?n(e):e}),Vn=S(function(t,n){return Object.entries(Nn).find(function(t){var n=Ln(t,2);n[0];return!0===n[1]})?t(n):n});document.addEventListener("keydown",function(t){return function(t){Bn&&(t.preventDefault(),Nn.hasOwnProperty(t.keyCode)&&(Nn[t.keyCode]=!0))}(t)}),document.addEventListener("keyup",function(t){return function(t){Bn&&Nn.hasOwnProperty(t.keyCode)&&(Nn[t.keyCode]=!1)}(t)});var Jn="done";et("Boost",function(){var t,n,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=Object.assign({create:Xn,events:(t={},n=Jn,e=Nt,n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t),asset:"spaceship",group:"default",frame:0,animations:{play:{frames:[6,7,8,9],fps:20,onDone:Jn}},animation:"play"},r);return new It(o)});var Xn=function(t){return t.stage.game.camera.shake(.01,60)};var zn="done";et("Flip",function(){var t,n,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=Object.assign({create:Qn,update:Yn,events:(t={},n=zn,e=Zn,n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t),scoreRef:{initiated:!1},bonusAmount:0,asset:"spaceship",group:"default",frame:0,animations:{play:{frames:[12,13,14,15],fps:10,onDone:zn}},animation:"play"},r);return new It(o)});var Qn=function(t){wn("flip"),t.stage.$refs.flips.addColor("#0f0",0);var n=t.stage.game.add.text(t.position.x,t.position.y,Math.floor(t.bonusAmount),Tn);t.$commit({scoreRef:n})},Yn=function(t){return t.scoreRef.position.y+=50*R(t.stage.game),t},Zn=function(t){return t.stage.$refs.flips.addColor("#666",0),t.scoreRef.destroy(),Nt(t)};var Wn="done";et("Explosion",function(){var t,n,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=Object.assign({create:Kn,events:(t={},n=Wn,e=Nt,n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t),asset:"explosion",group:"default",frame:0,animations:{play:{frames:[0,1,2,3],fps:20,onDone:Wn}},animation:"play"},r);return new It(o)});var Kn=function(t){wn("dead"),t.stage.game.camera.shake(.04,120)};var te="done";et("VelocityEffect",function(){var t,n,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=Object.assign({events:(t={},n=te,e=Nt,n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t),create:ne,asset:"spaceship",group:"default",frame:0,animations:{play:{frames:[18,19,20],fps:30,onDone:te}},animation:"play"},r);return new It(o)});var ne=function(t){return t.stage.$state.$commit({elapsedHyperTime:t.stage.$state.elapsedHyperTime+R(t.stage.game)}),t};function ee(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var re={Boost:"boost",Die:"died"};et("Spaceship",function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){ee(t,n,e[n])})}return t}((ee(t={},re.Boost,le),ee(t,re.FlipBonus,pe),t),n.events||{}),r=Object.assign({thrustSpeed:400,rotateSpeed:270,flipRotation:0,update:ie,input:ae,asset:"spaceship",frame:0,animations:{boost:{frames:[1,2,3,4],loop:!0,fps:10}},physicsEnabled:!0,bodyRadius:8,collisionGroup:Kt.Player,collisions:ee({},Kt.Asteroid,ye),gravity:!0},n,{events:e});return new It(r)});var oe,ie=function(t){var n,e,r,o;return o=function(t){return sn(t)?t:(t.stage.game.camera.shake(.01,60),t.$commit({position:{x:t.position.x,y:5},velocity:{x:t.velocity.x,y:-1*t.velocity.y}}))}(function(t){return cn(t)?t:(t.stage.game.camera.shake(.01,60),t.$commit({position:{x:t.position.x<0?5:t.stage.game.width-5,y:t.position.y},velocity:{x:-1*t.velocity.x,y:t.velocity.y}}))}(t.input(t))),r=an(400)(o),e=de(r),n=he(e),be(n)},ae=function(t){var n,e,r,o,i,a=qn,u=Gn,c=Un,s=Hn;return i=t,o=a(s.Accelerate,ue)(i),r=u(s.Accelerate,ce)(o),e=a(s.RotateRight,se(1))(r),n=a(s.RotateLeft,se(-1))(e),c(s.Boost,fe)(n)},ue=function(t){var n,e,r,o;return n=nt("AccelerateParticle",{position:(e=we(t),Yt(3,3)(e))}),ot(t.stage)(n),t.$commit({animation:"boost",flipRotation:0,velocity:(o=Ut(t.angle),r=Vt(-t.thrustSpeed*R(t.stage.game))(o),Xt(t.velocity)(r))})},ce=function(t){return t.$commit({animation:null})},se=function(t){return function(n){var e=t*n.rotateSpeed*R(n.stage.game);return n.$commit({angle:n.angle+e,flipRotation:e<0&&n.flipRotation<0||e>0&&n.flipRotation>0?n.flipRotation+e:e})}},fe=function(t){var n,e;return t.stage.$state.$commit({jumps:t.stage.$state.jumps+1}),wn("boost"),t.emit(re.Boost),t.$commit({velocity:(e=Ut(t.angle),n=Vt(25*-t.thrustSpeed*R(t.stage.game))(e),Xt(t.velocity)(n))})},le=function(t){var n;return n=nt("Boost",{position:we(t)}),ot(t.stage)(n),t},pe=function(t){var n,e,r=(n=G(100,400,zt(t.velocity)),U(1,20)(n)),o=t.stage.$state.flips+1;return t.stage.$state.$commit({score:t.stage.$state.score+o*r*2,flips:o}),e=nt("Flip",{position:t.position,angle:t.angle,bonusAmount:o*r*2}),ot(t.stage)(e),t},ye=c_(function(t,n){return me(t)}),de=function(t){return t.position.y<t.stage.game.height?t:me(t)},me=function(t){var n;return n=nt("Explosion",{position:t.position}),ot(t.stage)(n),t.emit(re.Die),t.stage.$state.$commit({end:!0}),Nt(t)},he=function(t){return ge(t)?ve(t):t},ge=function(t){return Math.abs(t.flipRotation)>=360},ve=function(t){return t.emit(re.FlipBonus),t.$commit({flipRotation:0})},be=function(t){var n;zt(t.velocity)>380&&(n=nt("VelocityEffect",{position:t.position,angle:t.angle}),ot(t.stage)(n));return t},we=function(t){var n,e;return e=Ut(t.angle),n=Vt(14)(e),Xt(t.position)(n)},Oe=760,xe=480,je=(oe={startTime:null,endTime:null,paused:!1,started:!1,end:!1,jumps:0,flips:0,bonus:0,score:0,elapsedTime:1,elapsedHyperTime:0,gameObjects:[],spawnQueue:[],timers:[]},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},oe,t)}),Se=function(t){return"\n  <div class='row ".concat(t.newEntry?"new-score":"","'>\n    <div class='name'>").concat(t.name,"</div>\n    <div class='time'>").concat(C(t.elapsed),"</div>\n    <div class='score'>").concat(B(t.score),"</div>\n  </div>\n")},$e=function(t){var n="<div class='leaderboard local'><div class='title'>".concat(t.title,"</div>");n+=t.entries.map(Se).join(""),n+="</div>",document.querySelector(".leaderboard-container").innerHTML+=n},Pe=function(t){var n=this;this.title=t.title,this.entries=t.entries.sort(ke),this.add=function(t){n.entries=Ae(n.entries,t)},this.highScore=function(t){return n.entries.length<10||Te(n.entries,t)}},Ee=function(t){return{newEntry:!0,name:"YOU",score:Math.floor(t.score),elapsed:t.elapsedTime,flips:t.flips,start:t.startTime,end:t.endTime}},Ae=function(t,n){return t.push(n),t.sort(ke).slice(0,10)},Te=function(t,n){return n.score>t[t.length-1].score},ke=function(t,n){return t.score>n.score?-1:t.score<n.score?1:0},Re=function(t){var n=function(){var t=JSON.parse(localStorage.getItem("local-leaderboard"));return t||(t=[]),new Pe({title:"Local",entries:t.map(function(t){return t.newEntry=!1,t})})}(),e=Ee(t);return n.highScore(e)&&(n.add(e),function(t){localStorage.setItem("local-leaderboard",JSON.stringify(t))}(n.entries)),n},_e=e(156),Me=e.n(_e);function Ce(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var De=["1YXBwLmNvbQ==","XJib2FyZA==","0LXNjb3Jl"],Ie=["aHR0cHM6Ly","9zdHVudC1waW","xvdHMuaGVyb2t",De[0]].join(""),Le=["L2FwaS9sZWFkZ",De[1]].join(""),He=["L2FwaS9wb3N",De[2]].join(""),Be=function(){return atob(Ie)},Fe=Date.prototype.getUTCDate,Ne=Date.prototype.getUTCMinutes,qe=Date.prototype.getUTCSeconds,Ge=function(t){var n,e=Math.floor(5e4*Math.random())+1e4,r=(""+e).split("").map(function(t){return parseInt(t)}),o=new Date(t.start),i=new Date(t.end),a=[r[0]+Fe.apply(o),r[1]+qe.apply(i),r[2]+Ne.apply(o),r[3]+Ne.apply(o),r[4]+Fe.apply(i)],u=t.score+"+"+a.join("");return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){Ce(t,n,e[n])})}return t}({},t,(Ce(n={},"h",Me()(u)),Ce(n,"k",e),n))};function Ue(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function Ve(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var i=t.apply(n,e);function a(t){Ue(i,r,o,a,u,"next",t)}function u(t){Ue(i,r,o,a,u,"throw",t)}a(void 0)})}}var Je=function(){var t=Ve(regeneratorRuntime.mark(function t(){var n,e,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URLSearchParams(window.location.search),e=n.get("g")||"",t.next=4,fetch(Be()+atob(Le)+"?g=".concat(e));case 4:return r=t.sent,t.next=7,r.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),Xe=function(){var t=Ve(regeneratorRuntime.mark(function t(n){var e,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("postScore",n),e=new URLSearchParams(window.location.search),r=e.get("g")||"",fetch(Be()+atob(He)+"?g=".concat(r),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),ze=function(){var t=Ve(regeneratorRuntime.mark(function t(n){var e,r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Je();case 2:if(e=t.sent,r=Ee(n),e.global=new Pe(e.global),e.group&&(e.group=new Pe(e.group)),o=e.global.highScore(r),e.group&&e.group.highScore(r)&&(o=!0),!o){t.next=15;break}return Bn=!1,t.next=12,new Promise(function(t,n){var e=document.querySelector(".prompt");e.classList.remove("hide"),e.innerHTML="<div class='header'>HIGH SCORE!</div>\n<div class='subheader'>Enter your name to be on the leaderboard:</div>\n<div class='input'>\n    <input type='text' class='text-input' maxlength='6'></input>\n</div>\n<div class='buttons'>\n    <div class='cancel'>Nahh</div>\n    <div class='submit'>Submit</div>\n</div>";var r=e.querySelector("input");r.value=localStorage.getItem("name-pref"),r.focus(),e.querySelector(".cancel").onclick=function(){e.classList.add("hide"),e.innerHTML="",t(null)},e.querySelector(".submit").onclick=function(){r.value&&(e.classList.add("hide"),e.innerHTML="",localStorage.setItem("name-pref",r.value),t(r.value))}});case 12:i=t.sent,Bn=!0,i&&(r.name=i,r=Ge(r),e.global.add(r),e.group&&e.group.add(r),Xe(r));case 15:return t.abrupt("return",e);case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}();function Qe(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}var Ye=function(){var t,n=(t=regeneratorRuntime.mark(function t(n){var e,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Re(n),$e(e),t.next=5,ze(n);case 5:(r=t.sent).group&&$e(r.group),$e(r.global);case 8:case"end":return t.stop()}},t,this)}),function(){var n=this,e=arguments;return new Promise(function(r,o){var i=t.apply(n,e);function a(t){Qe(i,r,o,a,u,"next",t)}function u(t){Qe(i,r,o,a,u,"throw",t)}a(void 0)})});return function(t){return n.apply(this,arguments)}}(),Ze=c_(function(t,n,e,r){t.game.add.text(0,e,r,n).setTextBounds(0,0,t.game.width,100)}),We=function(t){wn("boost"),t.game.camera.shake(.04,120)},Ke=c_(function(t){var n=Math.floor(t.$state.elapsedHyperTime/t.$state.elapsedTime*1e3)/10;Ze(t,Pn,140,"Press [F] to restart"),tr(t,-140,"HYPER SPEED","".concat(n,"%")),tr(t,0,"TIME",C(t.$state.elapsedTime)),tr(t,140,"FLIPS",t.$state.flips),Ye(t.$state)}),tr=function(t,n,e,r){t.game.add.text(0,0,e,En).setTextBounds(t.game.world.centerX+n-50,210,100,100),t.game.add.text(0,0,r,An).setTextBounds(t.game.world.centerX+n-50,180,100,100)},nr=(c_(function(t,n,e,r,o){return stage.game.add.text(0,0,r,o).setTextBounds(t,n,e,0),r}),function(t){it(t,function(t){return ut({count:function(){return 1.5},done:function(){We(t),Ze(t,Sn,50,"SCORE")}})}(t)),it(t,function(t){return ut({count:function(){return 2},done:function(){var n;We(t),n=rr(t),Ze(t,$n,86)(n)}})}(t)),it(t,function(t){return ut({count:function(){return 2.5},done:function(){return Ke(t)}})}(t))}),er=function(t){var n,e;return e=zt(t.$refs.player.velocity),n=G(100,400)(e),U(0,20)(n)},rr=function(t){var n;return n=Math.floor(t.$state.score),B(n)};function or(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ir=function(t,n){t.stage.backgroundColor="#111d38",t.$refs={},t.$state=new E(je(n)),t.$state.timers=[],t.$groups=new yt(t.game,["default"].concat(or(Object.values(Kt)))),function(t){X(On(t),Object.keys(o))}(t),window.sg=t},ar=function(t){!function(t){t.$refs.score=t.game.add.text(20,20,0,xn),t.$refs.flips=t.game.add.text(20,46,0,jn),t.$refs.bonus=t.game.add.text(20,64,0,jn)}(t),vn("gameOST"),lr(t),Nt(t.$refs.instructions),t.$state.$commit({started:!0,startTime:(new Date).toISOString()})},ur=function(t){var n;n=cr(t),t.$state.$commit(n),t.$state.started&&function(t){var n=er(t);t.$refs.score.text=rr(t),t.$refs.flips.text="".concat(t.$state.flips," FLIPS"),t.$refs.bonus.text="x".concat(Math.floor(n));var e="#999";n>19?e="#ff07d0":n>15?e="#48ce27":n>10&&(e="#21671b"),t.$refs.bonus.addColor(e,0)}(t),t.$state.started||Vn(function(){return ar(t)},{}),t.$state.end&&Gn(Hn.Restart,function(){hr(t)},{}),Nn.$clean()},cr=function(t){var n=t.$state;return n.started&&(ct(t)(t.$state.timers),sr(t),t.$state.$commit({gameObjects:q(Ft,n.gameObjects),elapsedTime:n.end?n.elapsedTime:n.elapsedTime+R(t.game,1),score:n.end?n.score:mr(t)})),n},sr=function(t){var n,e;return e=t.$state.gameObjects,n=q(Bt)(e),X(fr)(n)},fr=function(t){var n,e,r;return e=(r=t).update(r),n=F("physicsEnabled")(tn(R(t.stage.game)))(e),function(t){return t.sprite.commit(t.state),t}(F("physicsEnabled")(rn)(n))},lr=function(t){var n;n=ut({count:function(){return yr(t)},loop:!0,done:function(){return pr(t)}}),it(t)(n)},pr=function(t){var n;n=nt("Asteroid",function(t){var n,e=Dn(t);return{position:e,velocity:(n=Jt(e,Mn(t)),Vt(D(50,150))(n)),frame:D(0,6),angle:D(0,359),angVelocity:D(-270,270)}}(t)),ot(t)(n)},yr=function(t){var n;return n=G(0,180,t.$state.elapsedTime),V(2,.15)(n)},dr=function(t){bn("gameOST"),t.stage.$state.$commit({end:!0,endTime:(new Date).toISOString()}),nr(t.stage)},mr=function(t){return t.$state.score+(t.$state.flips+1)*(er(t)+1)*R(t.game)},hr=function(t){return t.state.start("Game")},gr={init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ir(this,t)},create:function(){var t,n,e,r,o,i,a;t=this,document.querySelector(".leaderboard-container").innerHTML="",t.$refs.player=(n=nt("Background",{}),ot(t)(n)),t.$refs.instructions=(e=nt("Instructions",{}),ot(t)(e)),t.$refs.player=(r=nt("Spaceship",{position:rt(t.world),events:(o={},i=re.Die,a=dr,i in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o)}),ot(t)(r))},update:function(){ur(this)}};function vr(t){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function br(t,n){return!n||"object"!==vr(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function wr(t){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Or(t,n){return(Or=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}new(function(t){function n(){var t;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);document.documentElement;for(var e in t=br(this,wr(n).call(this,Oe,xe,u.a.CANVAS,"content",null)),i)t.state.add(e,i[e],!1);return t.state.start("Splash"),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Or(t,n)}(n,u.a.Game),n}())}});